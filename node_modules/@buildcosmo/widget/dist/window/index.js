import { requestWithCallbackId } from "../core/request.js";
/**
 * Gets the current size of the widget window.
 * @returns A promise that resolves to the window size.
 */
export async function getWindowSize() {
    return requestWithCallbackId("getWindowSize");
}
/**
 * Sets the size of the widget window.
 * @param size The new size for the window.
 */
export function setWindowSize(size) {
    if (window.webkit?.messageHandlers?.setWindowSize) {
        window.webkit.messageHandlers.setWindowSize.postMessage(size);
    }
    else {
        console.warn("setWindowSize handler not available");
    }
}
/**
 * Gets the current position of the widget window.
 * @returns A promise that resolves to the window position (bottom-left corner).
 */
export async function getWindowPosition() {
    return requestWithCallbackId("getWindowPosition");
}
/**
 * Sets the position of the widget window.
 *
 * Can be called in two ways:
 * 1. With exact coordinates: `{ x, y }` - positions the window's bottom-left corner at the given screen coordinates.
 * 2. With proportional coordinates: `{ x, y, proportional: true }` - x and y are 0-1 values relative to the main screen,
 *    where (0, 0) is the bottom-left and (1, 1) is the top-right. The position references the **center** of the window.
 *
 * @param position The new position for the window.
 */
export function setWindowPosition(position) {
    if (window.webkit?.messageHandlers?.setWindowPosition) {
        window.webkit.messageHandlers.setWindowPosition.postMessage(position);
    }
    else {
        console.warn("setWindowPosition handler not available");
    }
}
